<?php extend('extend/extend'); ?>
<?php start('content'); ?>
<!--内容-->
<h3 class="ui top attached header">
    <i class="file text outline icon" style="font-size: 1.28em;margin-top: -3px;"></i> 文档管理
</h3>
<div class="ui attached segment">
<a class="ui blue basic button" href="/article-setting/add"><i class="tiny plus icon"></i> 添加</a>
<a class="ui red basic button" href="/article-setting/add"><i class="tiny remove icon"></i> 批量删除</a>
<table class="ui blue unstackable selectable celled table">
    <thead>
        <tr>
            <th>ID</th>
            <th>标题</th>
            <th>所属栏目</th>
            <th>是否显示</th>
            <th>创建时间</th>
            <th>操作</th>
        </tr>
    </thead>
    <tbody>
        <?php if (empty($pageData)): ?>
            <tr class="terse center">
                <td colspan="6">暂时没有任何文章</td>
            </tr>
        <?php endif ?>
        <?php foreach ($pageData as $key => $val) { ?>
        <tr>
            <td class="collapsing"><?=$key?></td>
            <td><?=$val['title']?></td>
            <td><?=$val['column_id']?></td>
            <td><?=$val['is_show']?></td>
            <td><?=$val['create_time']?></td>
            <td>
                <a class="edit" href="/article-setting/edit?id=<?=$key?>">修改</a>
                &nbsp;&nbsp;|&nbsp;&nbsp;
                <a class="delete" href="/article-setting/doDelete?id=<?=$key?>">删除</a>
            </td>
        </tr>
        <?php } ?>
    </tbody>
</table>
</div>
<div class="tips" style="color: #eeeeee;font-weight: 800;position: absolute; top: 0; left: 50%; margin-left: -.5em; padding: 10px 20px; border-top: 0; border-radius: 5px; background-color: #555555; display: none;opacity:0;">
    <span style="margin: 0 5px;">这是一个小提示！</span><i class="remove icon" style="margin-right: -10px;"></i>
</div>
<script type="text/javascript">
$(document).ready(function(){
    var tips;
    function closeTips () {
        clearTimeout(tips);
        $('.tips').animate({top:'0px',opacity:0},300);
        $('.tips').fadeOut(500);
    }
    //提示框
    function showTips (msg) {
        clearTimeout(tips);
        $('.tips span').html(msg);
        $('.tips').fadeIn(300, function(){
            tips = setTimeout(closeTips,5000);
        });
        $('.tips').animate({top:'10px',opacity:1},300);
    }
    <?php if (!empty($msg)): ?>
    showTips("<?=$msg?>");
    <?php endif ?>
});
</script>
<?php stop(); ?>